import{j as e}from"./index-BKKFOg71.js";import{r as d}from"./vendor-react-DQscjJnN.js";import{s as X,l as F,a as A,b as B,c as Y,m as L,d as G,e as _}from"./vendor-d3-kc1bjemZ.js";import{B as M,d as I,e as W,f as q,F as Q,g as J,G as K,R as U}from"./vendor-icons-uFo5uim7.js";function V(t){const{defaultValue:n=!1}={},[a,s]=d.useState(n);return d.useEffect(()=>{const r=window.matchMedia("(prefers-reduced-motion: reduce)");s(r.matches);const l=i=>{s(i.matches)};return r.addEventListener("change",l),()=>r.removeEventListener("change",l)},[]),a}function $({children:t,duration:n=500,delay:a=0,className:s="",direction:r="up",distance:l=24}){const i=V(),[m,x]=d.useState(i);d.useEffect(()=>{if(i){x(!0);return}const c=setTimeout(()=>{x(!0)},a);return()=>clearTimeout(c)},[a,i]);const p=()=>{if(i||r==="none")return"none";const c=m?0:l;switch(r){case"up":return`translateY(${c}px)`;case"down":return`translateY(-${c}px)`;case"left":return`translateX(${c}px)`;case"right":return`translateX(-${c}px)`;default:return"none"}};return e.jsx("div",{className:s,style:{opacity:m?1:0,transform:p(),transition:i?"none":`opacity ${n}ms cubic-bezier(0.16, 1, 0.3, 1), transform ${n}ms cubic-bezier(0.16, 1, 0.3, 1)`,willChange:i?"auto":"opacity, transform"},children:t})}function j({children:t,className:n="",threshold:a=.1,delay:s=0,direction:r="up"}){const[l,i]=d.useState(!1),m=d.useRef(null),x=V();d.useEffect(()=>{if(x){i(!0);return}const c=new IntersectionObserver(([h])=>{h.isIntersecting&&(setTimeout(()=>i(!0),s),c.disconnect())},{threshold:a});return m.current&&c.observe(m.current),()=>c.disconnect()},[a,s,x]);const p=()=>{if(x)return"none";if(l)return r==="scale"?"scale(1)":"translate(0, 0)";switch(r){case"up":return"translateY(30px)";case"down":return"translateY(-30px)";case"left":return"translateX(30px)";case"right":return"translateX(-30px)";case"scale":return"scale(0.95)";default:return"none"}};return e.jsx("div",{ref:m,className:n,style:{opacity:l?1:0,transform:p(),transition:x?"none":"opacity 600ms cubic-bezier(0.16, 1, 0.3, 1), transform 600ms cubic-bezier(0.16, 1, 0.3, 1)",willChange:x?"auto":"opacity, transform"},children:t})}function k({children:t,className:n="",hover:a=!0}){const[s,r]=d.useState(!1);return e.jsx("div",{className:n,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{background:s?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"1.5rem",boxShadow:s?"0 8px 40px -10px rgba(31, 38, 135, 0.15)":"0 8px 32px 0 rgba(31, 38, 135, 0.07)",transform:a&&s?"translateY(-2px)":"translateY(0)",transition:"all 300ms cubic-bezier(0.16, 1, 0.3, 1)"},children:t})}function Z({children:t,title:n="å°ç™½ç‰ˆè§£é‡Š",icon:a="ğŸ¤”"}){const[s,r]=d.useState(!1);return e.jsxs(k,{className:"p-6 mb-6",children:[e.jsxs("button",{onClick:()=>r(!s),className:"flex items-center justify-between w-full text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--c1)] rounded-xl p-2 -m-2 transition-colors hover:bg-black/[0.02]","aria-expanded":s,"aria-controls":"beginner-explanation-content",children:[e.jsxs("h4",{className:"font-medium text-gray-700 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg","aria-hidden":"true",children:a}),n,"ï¼ˆ",s?"ç‚¹å‡»æ”¶èµ·":"ç‚¹å‡»å±•å¼€","ï¼‰"]}),e.jsx("div",{className:"text-gray-400 transition-transform duration-300",style:{transform:s?"rotate(180deg)":"rotate(0deg)"},children:e.jsx(W,{size:20})})]}),e.jsx("div",{id:"beginner-explanation-content",className:"overflow-hidden transition-all duration-500",style:{maxHeight:s?"1000px":"0",opacity:s?1:0,marginTop:s?"1rem":"0"},role:"region","aria-label":"é€šä¿—è§£é‡Šå†…å®¹",children:e.jsx("div",{className:"text-sm leading-relaxed text-gray-600 p-4 bg-[var(--bg-secondary)] rounded-xl",children:t})})]})}function R({title:t,children:n,latex:a,displayText:s,number:r}){const[l,i]=d.useState(!1),[m,x]=d.useState(!1),p=()=>{a&&(navigator.clipboard.writeText(a),i(!0),setTimeout(()=>i(!1),2e3))};return e.jsxs("div",{className:"relative p-6 rounded-2xl mb-6 group",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg) 100%)",border:"1px solid var(--border-light)"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[r&&e.jsxs("span",{className:"absolute top-4 right-4 text-xs text-[var(--text-subtle)] font-mono",children:["(",r,")"]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:t}),a&&e.jsx("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-600 bg-white rounded-lg border border-[var(--border)] hover:border-[var(--c1)] hover:text-[var(--c1-dark)] transition-all active:scale-95",children:l?e.jsxs(e.Fragment,{children:[e.jsx(I,{size:14,className:"text-green-500"}),e.jsx("span",{className:"text-green-600",children:"å·²å¤åˆ¶"})]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{size:14}),e.jsx("span",{children:s||"å¤åˆ¶ LaTeX"})]})})]}),e.jsx("div",{className:"font-mono text-gray-700",children:n}),e.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 px-3 py-1 text-xs text-white bg-gray-800 rounded-lg whitespace-nowrap transition-all duration-200",style:{opacity:m&&!l?1:0,transform:m&&!l?"translateX(-50%) translateY(0)":"translateX(-50%) translateY(8px)",pointerEvents:"none"},children:["ç‚¹å‡»å¤åˆ¶å…¬å¼",e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]})}function ee({chapterNumber:t,title:n,subtitle:a,description:s,color:r,prevChapter:l,nextChapter:i}){const m=i?`/chapter/${i}`:void 0,x=l?`/chapter/${l}`:void 0;return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"sticky top-0 z-50 px-4 md:px-6 py-4",style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderBottom:"1px solid rgba(0, 0, 0, 0.05)"},children:e.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[e.jsxs("a",{href:"/",className:"flex items-center gap-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--c1)] rounded-xl p-2 -m-2 transition-colors hover:bg-black/[0.02]","aria-label":"è¿”å›é¦–é¡µ",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:r},children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:e.jsx("path",{d:"M12 3l9 5v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8l9-5z"})})}),e.jsx("span",{className:"font-semibold text-gray-800 hidden sm:block",children:"çœ‹è§ç†è®º"})]}),e.jsxs("nav",{className:"flex items-center gap-1 sm:gap-4","aria-label":"ç« èŠ‚å¯¼èˆª",children:[x?e.jsxs("a",{href:x,className:"flex items-center gap-1 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-black/[0.03] rounded-xl transition-all",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),e.jsx("span",{className:"hidden sm:inline",children:"ä¸Šä¸€ç« "})]}):e.jsx("span",{className:"px-3 py-2 text-sm text-gray-400 cursor-not-allowed",children:"â† ä¸Šä¸€ç« "}),e.jsxs("span",{className:"px-3 py-1.5 text-sm font-medium rounded-lg",style:{background:`${r}20`,color:r},children:["ç¬¬ ",t," ç« "]}),m?e.jsxs("a",{href:m,className:"flex items-center gap-1 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-black/[0.03] rounded-xl transition-all",children:[e.jsx("span",{className:"hidden sm:inline",children:"ä¸‹ä¸€ç« "}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}):e.jsx("span",{className:"px-3 py-2 text-sm text-gray-400 cursor-not-allowed",children:"ä¸‹ä¸€ç«  â†’"})]})]})}),e.jsxs("section",{className:"relative px-4 md:px-6 py-16 md:py-24 overflow-hidden",style:{background:`linear-gradient(135deg, ${r} 0%, ${r}dd 50%, ${r}bb 100%)`},children:[e.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:`radial-gradient(circle at 80% 20%, white 0%, transparent 50%),
                        radial-gradient(circle at 20% 80%, white 0%, transparent 40%)`}}),e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.15'%3E%3Ccircle cx='30' cy='30' r='1.5'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[e.jsx($,{direction:"down",children:e.jsxs("p",{className:"text-sm uppercase tracking-wider mb-3 font-medium",style:{color:"rgba(0,0,0,0.5)"},children:["ç¬¬ ",t," ç«  Â· ",a]})}),e.jsx($,{delay:100,children:e.jsx("h1",{className:"text-4xl md:text-6xl font-light text-black mb-6 tracking-tight",children:n})}),e.jsx($,{delay:200,children:e.jsx("p",{className:"text-lg md:text-xl max-w-2xl leading-relaxed",style:{color:"rgba(0,0,0,0.65)"},children:s})})]})]})]})}function te(t=600,n=300){const a=d.useRef(null),[s,r]=d.useState({width:t,height:n}),[l,i]=d.useState(!1);return d.useEffect(()=>{const m=()=>{if(a.current){const x=a.current.clientWidth,p=x<768;i(p),r({width:Math.max(x,300),height:p?n*.75:n})}};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[n]),{containerRef:a,dimensions:s,isMobile:l}}function se({chapterNumber:t,chapterTitle:n,color:a}){return e.jsx(j,{children:e.jsx("div",{className:"flex justify-end mt-8",children:e.jsxs("a",{href:`/chapter/${t}`,className:"group flex items-center gap-3 px-8 py-4 text-white rounded-2xl font-medium text-lg transition-all hover:shadow-xl hover:-translate-y-1 active:translate-y-0",style:{background:`linear-gradient(135deg, ${a} 0%, ${a}dd 100%)`,boxShadow:`0 10px 30px -10px ${a}80`},children:[e.jsxs("span",{children:["è¿›å…¥ç¬¬ ",t," ç« "]}),e.jsx("span",{className:"opacity-80",children:n}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"transition-transform group-hover:translate-x-1",children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})})})}function T({type:t,children:n}){const[a,s]=d.useState(!0),l={think:{icon:"ğŸ’­",title:"æš‚åœæ€è€ƒ",bg:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"#bfdbfe",color:"#3b82f6"},mistake:{icon:"âš ï¸",title:"å¸¸è§è¯¯åŒº",bg:"linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%)",border:"#fde68a",color:"#f59e0b"},try:{icon:"âœï¸",title:"è¯•ä¸€è¯•",bg:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",border:"#6ee7b7",color:"#10b981"}}[t];return e.jsxs("div",{className:"rounded-2xl overflow-hidden transition-all duration-300",style:{background:l.bg,border:`1px solid ${l.border}`,boxShadow:`0 4px 20px -5px ${l.color}20`},children:[e.jsxs("button",{onClick:()=>s(!a),className:"flex items-center justify-between w-full p-5 text-left transition-colors hover:bg-white/30",children:[e.jsxs("span",{className:"font-semibold flex items-center gap-2",style:{color:l.color},children:[e.jsx("span",{className:"text-xl",children:l.icon}),l.title]}),e.jsx("div",{className:"transition-transform duration-300",style:{transform:a?"rotate(180deg)":"rotate(0deg)",color:l.color},children:e.jsx(W,{size:20})})]}),e.jsx("div",{className:"overflow-hidden transition-all duration-500",style:{maxHeight:a?"1000px":"0",opacity:a?1:0},children:e.jsx("div",{className:"px-5 pb-5 text-sm leading-relaxed text-gray-700",children:n})})]})}const ae={criminal:{icon:K,label:"åˆ‘äº‹æ¡ˆä»¶",color:"#D4A5A5"},civil:{icon:J,label:"æ°‘äº‹æ¡ˆä»¶",color:"#9CAFAA"},evidence:{icon:Q,label:"è¯æ®åˆ†æ",color:"#A8A4CE"},procedure:{icon:M,label:"ç¨‹åºæ¡ˆä¾‹",color:"#A5B4C4"}};function re({title:t,type:n,children:a}){const s=ae[n],r=s.icon;return e.jsx(j,{children:e.jsxs("div",{className:"relative p-6 md:p-8 rounded-3xl overflow-hidden group",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 100%)",boxShadow:"0 10px 40px -10px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",style:{padding:"2px",background:`linear-gradient(135deg, ${s.color}40 0%, transparent 50%, ${s.color}60 100%)`,WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude"}}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center",style:{background:`${s.color}20`},children:e.jsx(r,{size:24,style:{color:s.color}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",style:{background:`${s.color}15`,color:s.color},children:s.label})]})]}),e.jsx("div",{className:"text-gray-700 leading-relaxed",children:a})]})})}function ne({title:t,icon:n="ğŸ²",children:a}){return e.jsxs(k,{className:"p-6 md:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 text-gray-800 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:n}),t]}),e.jsx("div",{className:"space-y-6",children:a})]})}function le({chapterColor:t,prerequisites:n,learningGoals:a,overview:s,estimatedTime:r="30-45åˆ†é’Ÿ"}){return e.jsxs(k,{className:"p-6 md:p-8 mb-6",children:[e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2 text-gray-800",children:[e.jsx(M,{size:20,style:{color:t}}),"å‰ç½®çŸ¥è¯†"]}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:n.map((l,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{style:{color:t},children:"â€¢"}),l]},i))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2 text-gray-800",children:[e.jsx(I,{size:20,style:{color:t}}),"å­¦ä¹ ç›®æ ‡"]}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:a.map((l,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",className:"flex-shrink-0 mt-0.5",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),l]},i))})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-black/5",children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:e.jsx("polygon",{points:"1 6 1 22 8 18 16 22 21 18 21 2 16 6 8 2 1 6"})}),"æœ¬ç« æ¦‚è§ˆ"]}),e.jsx("div",{className:"text-sm text-gray-600 leading-relaxed",children:s})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-black/5 flex items-center gap-2 text-sm",style:{color:t},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"å»ºè®®å­¦ä¹ æ—¶é—´ï¼š",r," | åŒ…å«äº¤äº’å®éªŒå’Œæ³•å¾‹æ¡ˆä¾‹"]})]})}function ie({keyPoints:t,question:n,hint:a}){const[s,r]=d.useState(!1);return e.jsxs(k,{className:"p-6 md:p-8",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-5 flex items-center gap-2 text-gray-800",children:[e.jsx(M,{size:22,className:"text-[var(--c1)]"}),"æœ¬ç« è¦ç‚¹"]}),e.jsx("ul",{className:"space-y-3 mb-8",children:t.map((l,i)=>e.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("span",{className:"text-[var(--c1)] mt-1",children:"â€¢"}),e.jsx("span",{className:"leading-relaxed",children:l})]},i))}),e.jsxs("div",{className:"p-6 rounded-2xl",style:{background:"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%)",border:"1px solid #ddd6fe"},children:[e.jsxs("h3",{className:"font-semibold text-purple-700 mb-3 flex items-center gap-2",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"æ€è€ƒé¢˜"]}),e.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:n}),a&&e.jsxs("div",{children:[e.jsx("button",{onClick:()=>r(!s),className:"text-sm text-purple-600 hover:text-purple-800 font-medium transition-colors",children:s?"æ”¶èµ·æç¤º â†‘":"æŸ¥çœ‹æç¤º â†“"}),e.jsx("div",{className:"overflow-hidden transition-all duration-300",style:{maxHeight:s?"500px":"0",opacity:s?1:0,marginTop:s?"1rem":"0"},children:e.jsxs("div",{className:"p-4 bg-white rounded-xl text-sm text-gray-600 leading-relaxed",children:["ğŸ’­ ",a]})})]})]})]})}const u="#B8A99A";function oe(){const[t,n]=d.useState([]),[a,s]=d.useState(!1),r=d.useRef(null),{containerRef:l,dimensions:i}=te(600,250),m=async c=>{s(!0);const h=[...t];for(let w=0;w<c;w++){const o=Math.random()<.5?"H":"T";h.push({result:o,cumProb:0});const f=h.filter(y=>y.result==="H").length/h.length;h[h.length-1].cumProb=f}n(h),s(!1)};d.useEffect(()=>{if(!r.current||t.length===0)return;const c=X(r.current);c.selectAll("*").remove();const{width:h,height:w}=i,o={top:20,right:30,bottom:50,left:60},v=h-o.left-o.right,f=w-o.top-o.bottom,y=F().domain([1,Math.max(100,t.length)]).range([0,v]),N=F().domain([0,1]).range([f,0]),g=c.append("g").attr("transform",`translate(${o.left},${o.top})`);g.append("g").attr("class","grid").attr("transform",`translate(0,${f})`).call(A(y).ticks(5).tickSize(-f).tickFormat(()=>"")).selectAll("line").attr("stroke","rgba(0,0,0,0.05)").attr("stroke-dasharray","2,2"),g.append("g").attr("class","grid").call(B(N).ticks(5).tickSize(-v).tickFormat(()=>"")).selectAll("line").attr("stroke","rgba(0,0,0,0.05)").attr("stroke-dasharray","2,2"),g.append("g").attr("transform",`translate(0,${f})`).call(A(y).ticks(5)).selectAll("text").attr("fill","#6b6b6b").style("font-size","12px"),g.select(".domain").remove(),g.append("g").call(B(N).ticks(5).tickFormat(b=>`${(+b*100).toFixed(0)}%`)).selectAll("text").attr("fill","#6b6b6b").style("font-size","12px"),g.select(".domain").remove(),g.append("line").attr("x1",0).attr("x2",v).attr("y1",N(.5)).attr("y2",N(.5)).attr("stroke",u).attr("stroke-width",2).attr("stroke-dasharray","6,4").attr("opacity",.5);const D=Y().x((b,S)=>y(S+1)).y(b=>N(b.cumProb)).curve(L),O=G().x((b,S)=>y(S+1)).y0(f).y1(b=>N(b.cumProb)).curve(L),P=`gradient-${Math.random().toString(36).substr(2,9)}`,E=c.append("defs").append("linearGradient").attr("id",P).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");E.append("stop").attr("offset","0%").attr("stop-color",u).attr("stop-opacity",.3),E.append("stop").attr("offset","100%").attr("stop-color",u).attr("stop-opacity",.05),g.append("path").datum(t).attr("fill",`url(#${P})`).attr("d",O);const z=g.append("path").datum(t).attr("fill","none").attr("stroke",u).attr("stroke-width",2.5).attr("d",D),C=z.node()?.getTotalLength()||0;if(z.attr("stroke-dasharray",C+" "+C).attr("stroke-dashoffset",C).transition().duration(800).ease(_).attr("stroke-dashoffset",0),t.length>0){const b=t[t.length-1];g.append("circle").attr("cx",y(t.length)).attr("cy",N(b.cumProb)).attr("r",5).attr("fill",u).attr("stroke","white").attr("stroke-width",2)}g.append("text").attr("transform","rotate(-90)").attr("y",-45).attr("x",-f/2).attr("text-anchor","middle").attr("fill","#9a9a9a").style("font-size","12px").text("æ­£é¢é¢‘ç‡"),g.append("text").attr("x",v/2).attr("y",f+40).attr("text-anchor","middle").attr("fill","#9a9a9a").style("font-size","12px").text("æŠ•æ·æ¬¡æ•°")},[t,i]);const x=t.filter(c=>c.result==="H").length,p=t.length>0?(x/t.length*100).toFixed(1):"0.0";return e.jsxs("div",{ref:l,children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[[1,10,100,1e3].map(c=>e.jsxs("button",{onClick:()=>m(c),disabled:a,className:"px-5 py-2.5 rounded-xl font-medium text-sm transition-all hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:transform-none",style:{background:u,color:"#1a1a1a",boxShadow:`0 4px 14px 0 ${u}50`},children:["æŠ•æ· ",c," æ¬¡"]},c)),e.jsx("button",{onClick:()=>n([]),className:"px-4 py-2.5 rounded-xl font-medium text-sm bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all",children:e.jsx(U,{size:16})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[{label:"æ€»æ¬¡æ•°",value:t.length.toLocaleString()},{label:"æ­£é¢",value:x.toLocaleString()},{label:"æ­£é¢æ¯”ä¾‹",value:`${p}%`}].map((c,h)=>e.jsxs("div",{className:"p-4 rounded-xl text-center",style:{background:"var(--bg-secondary)"},children:[e.jsx("div",{className:"text-2xl font-semibold text-gray-900 mb-1",children:c.value}),e.jsx("div",{className:"text-xs text-gray-500",children:c.label})]},h))}),e.jsx("div",{className:"bg-white rounded-2xl p-4 border border-black/5",children:e.jsx("svg",{ref:r,width:i.width,height:i.height,className:"w-full"})}),e.jsx("p",{className:"mt-4 text-sm text-gray-500 text-center",children:"è™šçº¿è¡¨ç¤ºç†è®ºæ¦‚ç‡ 50%ï¼Œè§‚å¯Ÿå®é™…é¢‘ç‡å¦‚ä½•éšæŠ•æ·æ¬¡æ•°è¶‹è¿‘ç†è®ºå€¼"})]})}function ce(){const[t,n]=d.useState(5e6),[a,s]=d.useState(1e-4),[r,l]=d.useState(.99),[i,m]=d.useState(.99),x=t*a*r,p=t*(1-a)*(1-i),c=x+p,h=c>0?x/c:0,w=[{label:"åŸå¸‚äººå£",value:t,set:n,min:1e5,max:1e7,step:1e5,fmt:o=>`${(o/1e4).toFixed(0)}ä¸‡`},{label:"ç½ªçŠ¯åŸºç¡€æ¯”ä¾‹",value:a,set:s,min:1e-5,max:.001,step:1e-5,fmt:o=>`${(o*100).toFixed(3)}%`},{label:"æ£€æµ‹çµæ•åº¦",value:r,set:l,min:.9,max:.9999,step:.001,fmt:o=>`${(o*100).toFixed(1)}%`},{label:"æ£€æµ‹ç‰¹å¼‚åº¦",value:i,set:m,min:.9,max:.9999,step:.001,fmt:o=>`${(o*100).toFixed(1)}%`}];return e.jsxs(re,{title:"DNAè¯æ®çš„åŸºç¡€æ¦‚ç‡è°¬è¯¯",type:"evidence",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:"æŸå¸‚å‘ç”Ÿåˆ‘äº‹æ¡ˆä»¶ï¼Œç°åœºDNAä¸å«Œç–‘äººåŒ¹é…ã€‚æ£€æµ‹å‡†ç¡®ç‡é«˜è¾¾99%ã€‚ è¿™æ˜¯å¦æ„å‘³ç€å«Œç–‘äººæœ‰99%çš„æ¦‚ç‡æœ‰ç½ªï¼Ÿè®©æˆ‘ä»¬ç”¨æ•°å­—æ¥éªŒè¯ã€‚"}),e.jsx("div",{className:"space-y-5 mb-8",children:w.map(o=>{const v=(o.value-o.min)/(o.max-o.min)*100;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:o.label}),e.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-0.5 rounded",children:o.fmt(o.value)})]}),e.jsx("input",{type:"range",min:o.min,max:o.max,step:o.step,value:o.value,onChange:f=>o.set(+f.target.value),className:"custom-slider w-full",style:{"--value":`${v}%`,"--c1":u}})]},o.label)})}),e.jsxs("div",{className:"p-6 rounded-2xl mb-6",style:{background:"var(--bg-secondary)"},children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"è®¡ç®—ç»“æœ"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"çœŸé˜³æ€§ï¼ˆå®é™…æœ‰ç½ªä¸”æ£€æµ‹é˜³æ€§ï¼‰"}),e.jsxs("span",{className:"font-mono font-medium",children:[Math.round(x).toLocaleString()," äºº"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"å‡é˜³æ€§ï¼ˆå®é™…æ— ç½ªä½†æ£€æµ‹é˜³æ€§ï¼‰"}),e.jsxs("span",{className:"font-mono font-medium",children:[Math.round(p).toLocaleString()," äºº"]})]}),e.jsx("div",{className:"h-px bg-gray-200 my-3"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-800",children:"å®é™…æœ‰ç½ªæ¦‚ç‡ï¼ˆåéªŒæ¦‚ç‡ï¼‰"}),e.jsxs("span",{className:"font-mono text-xl font-bold",style:{color:u},children:[(h*100).toFixed(2),"%"]})]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl flex items-start gap-3",style:{background:"rgba(245, 243, 0, 0.1)",border:"1px solid rgba(245, 243, 0, 0.2)"},children:[e.jsx("span",{className:"text-xl",children:"ğŸ’¡"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-gray-800",children:"å…³é”®æ´å¯Ÿï¼š"}),e.jsx("span",{className:"text-gray-600",children:"å³ä½¿æ£€æµ‹å‡†ç¡®ç‡99%ï¼Œåœ¨å¤§é‡äººç¾¤ä¸­å‡é˜³æ€§äººæ•°å¯èƒ½è¿œè¶…çœŸé˜³æ€§ï¼Œ å¯¼è‡´å®é™…æœ‰ç½ªæ¦‚ç‡è¿œä½äºç›´è§‰é¢„æœŸã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ³•å®˜éœ€è¦ç†è§£åŸºç¡€æ¦‚ç‡è°¬è¯¯ã€‚"})]})]})]})}function H({children:t}){const[n,a]=d.useState(!1),s=d.useRef(null);return d.useEffect(()=>{const r=new IntersectionObserver(([l])=>{l.isIntersecting&&(a(!0),r.disconnect())},{threshold:.1,rootMargin:"100px"});return s.current&&r.observe(s.current),()=>r.disconnect()},[]),e.jsx("div",{ref:s,style:{minHeight:200},children:n?t:e.jsx("div",{className:"h-48 flex items-center justify-center rounded-2xl",style:{background:"var(--bg-secondary)"},children:e.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[e.jsx("div",{className:"w-5 h-5 rounded-full animate-pulse",style:{background:u}}),e.jsx("span",{children:"åŠ è½½å¯è§†åŒ–..."})]})})})}function pe(){return e.jsxs("div",{className:"min-h-screen bg-[var(--bg)]",children:[e.jsx(ee,{chapterNumber:1,title:"åŸºç¡€æ¦‚ç‡",subtitle:"Basic Probability",description:"æ¢ç´¢æ¦‚ç‡çš„æœ¬è´¨ã€å¤§æ•°å®šå¾‹ï¼Œä»¥åŠæ¦‚ç‡æ€ç»´åœ¨è¯æ®è¯„ä»·ä¸­çš„æ³•å¾‹åº”ç”¨",color:u,nextChapter:2}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 md:px-6 py-12",children:[e.jsx(j,{children:e.jsx(le,{chapterColor:u,prerequisites:["æ— ï¼ˆæœ¬ç« ä¸ºå­¦ä¹ èµ·ç‚¹ï¼‰"],learningGoals:["ç†è§£æ¦‚ç‡çš„æœ¬è´¨å’ŒåŸºæœ¬æ€§è´¨ï¼ˆæŸ¯å°”è«å“¥æ´›å¤«å…¬ç†ï¼‰","æŒæ¡å¤§æ•°å®šå¾‹çš„ç›´è§‚å«ä¹‰å’Œæ•°å­¦è¡¨è¾¾","é€šè¿‡äº¤äº’å®éªŒéªŒè¯å¤§æ•°å®šå¾‹","ç†è§£æ¦‚ç‡æ€ç»´åœ¨æ³•å¾‹è¯æ®è¯„ä»·ä¸­çš„é‡è¦æ€§","è¯†åˆ«å¹¶é¿å…åŸºç¡€æ¦‚ç‡è°¬è¯¯"],overview:e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"mb-3",children:["æœ¬ç« ä»",e.jsx("strong",{children:"æŠ›ç¡¬å¸å®éªŒ"}),"å¼€å§‹ï¼Œé€šè¿‡äº¤äº’å¼å¯è§†åŒ–è®©ä½ ç›´è§‚æ„Ÿå—æ¦‚ç‡å’Œå¤§æ•°å®šå¾‹ã€‚"]}),e.jsxs("p",{children:["éšåï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ª",e.jsx("strong",{children:"DNAè¯æ®æ¡ˆä¾‹"}),"ï¼Œæ­ç¤ºä¸ºä»€ä¹ˆé«˜å‡†ç¡®ç‡çš„æ£€æµ‹åœ¨å¸æ³•å®è·µä¸­ä»å¯èƒ½å¯¼è‡´è¯¯åˆ¤ï¼Œ å¼•å‡ºæ¦‚ç‡æ€ç»´åœ¨æ³•å¾‹ä¸­çš„æ ¸å¿ƒä½œç”¨ã€‚"]})]})})}),e.jsx(j,{children:e.jsx(Z,{title:"ğŸ¤” åˆå­¦è€…æŒ‡å—",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"æ¦‚ç‡"}),"æ˜¯äº‹ä»¶å‘ç”Ÿå¯èƒ½æ€§çš„æ•°å€¼åº¦é‡ï¼Œå–å€¼èŒƒå›´åœ¨ 0ï¼ˆä¸å¯èƒ½ï¼‰åˆ° 1ï¼ˆå¿…ç„¶ï¼‰ä¹‹é—´ã€‚ ä¾‹å¦‚ï¼ŒæŠ›ç¡¬å¸æ­£é¢æœä¸Šçš„æ¦‚ç‡æ˜¯ 0.5ã€‚"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"å¤§æ•°å®šå¾‹"}),"å‘Šè¯‰æˆ‘ä»¬ï¼šè¯•éªŒæ¬¡æ•°è¶Šå¤šï¼Œå®é™…ç»“æœè¶Šæ¥è¿‘ç†è®ºé¢„æœŸã€‚ æŠ›10æ¬¡ç¡¬å¸å¯èƒ½7æ¬¡æ­£é¢ï¼Œä½†æŠ›10000æ¬¡ï¼Œæ­£é¢æ¯”ä¾‹ä¼šéå¸¸æ¥è¿‘50%ã€‚"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"åŸºç¡€æ¦‚ç‡ï¼ˆå…ˆéªŒæ¦‚ç‡ï¼‰"}),'æ˜¯åœ¨çœ‹åˆ°ä»»ä½•è¯æ®ä¹‹å‰ï¼Œäº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚ å¿½ç•¥å®ƒä¼šå¯¼è‡´ä¸¥é‡çš„è¯¯åˆ¤â€”â€”è¿™æ­£æ˜¯"æ£€å¯Ÿå®˜è°¬è¯¯"çš„æ ¹æºã€‚']})]})})}),e.jsx(j,{children:e.jsxs(k,{className:"p-6 md:p-8 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"ä»€ä¹ˆæ˜¯æ¦‚ç‡ï¼Ÿ"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:"æ¦‚ç‡æ˜¯è¡¡é‡æŸä¸ªäº‹ä»¶å‘ç”Ÿå¯èƒ½æ€§çš„æ•°å€¼ï¼Œå–å€¼èŒƒå›´åœ¨ 0ï¼ˆä¸å¯èƒ½ï¼‰åˆ° 1ï¼ˆå¿…ç„¶ï¼‰ä¹‹é—´ã€‚ åœ¨æ³•å­¦ä¸­ï¼Œæ¦‚ç‡æ€ç»´å¯¹äºè¯æ®è¯„ä»·è‡³å…³é‡è¦â€”â€”å®ƒå¸®åŠ©æˆ‘ä»¬é‡åŒ–ä¸ç¡®å®šæ€§ï¼Œé¿å…ç›´è§‰åˆ¤æ–­çš„åå·®ã€‚"}),e.jsx(R,{title:"æ¦‚ç‡çš„åŸºæœ¬æ€§è´¨ï¼ˆæŸ¯å°”è«å“¥æ´›å¤«å…¬ç†ï¼‰",latex:"P(A) \\\\geq 0, P(\\\\Omega)=1",number:"1.1",children:e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-[var(--c1)]",children:"éè´Ÿæ€§ï¼š"}),e.jsx("span",{children:"å¯¹äºä»»æ„äº‹ä»¶ Aï¼ŒP(A) â‰¥ 0"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-[var(--c1)]",children:"è§„èŒƒæ€§ï¼š"}),e.jsx("span",{children:"å¿…ç„¶äº‹ä»¶çš„æ¦‚ç‡ P(Î©) = 1"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-[var(--c1)]",children:"å¯åˆ—å¯åŠ æ€§ï¼š"}),e.jsx("span",{children:"äº’æ–¥äº‹ä»¶çš„å¹¶é›†æ¦‚ç‡ç­‰äºæ¦‚ç‡ä¹‹å’Œ"})]})]})}),e.jsx(R,{title:"å¤§æ•°å®šå¾‹ï¼ˆLaw of Large Numbersï¼‰",latex:"\\\\lim_{n \\\\to \\\\infty} P(|S_n/n - \\\\mu| < \\\\epsilon) = 1",number:"1.2",children:e.jsx("p",{className:"text-gray-700",children:"éšç€ç‹¬ç«‹é‡å¤è¯•éªŒæ¬¡æ•°çš„å¢åŠ ï¼Œäº‹ä»¶å‘ç”Ÿçš„é¢‘ç‡ä¼šè¶‹è¿‘äºå…¶ç†è®ºæ¦‚ç‡ã€‚ è¿™æ˜¯ç»Ÿè®¡æ¨æ–­çš„ç†è®ºåŸºç¡€ï¼Œä¹Ÿæ˜¯å¸æ³•ç»Ÿè®¡ä¸­æŠ½æ ·è°ƒæŸ¥çš„æ•°å­¦ä¾æ®ã€‚"})})]})}),e.jsx(j,{children:e.jsxs(ne,{title:"äº¤äº’å®éªŒï¼šæŠ•æ·ç¡¬å¸ä¸å¤§æ•°å®šå¾‹",icon:"ğŸ²",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:"ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›è¡Œç¡¬å¸æŠ•æ·å®éªŒã€‚è§‚å¯Ÿï¼šéšç€æŠ•æ·æ¬¡æ•°å¢åŠ ï¼Œæ­£é¢å‡ºç°çš„é¢‘ç‡å¦‚ä½•å˜åŒ–ï¼Ÿ å°è¯•æŠ•æ· 1000 æ¬¡ï¼Œçœ‹çœ‹ç»“æœæ˜¯å¦è¶‹è¿‘äº 50%ã€‚"}),e.jsx(H,{children:e.jsx(oe,{})}),e.jsx("div",{className:"mt-6",children:e.jsx(T,{type:"try",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium",children:"å®éªŒä»»åŠ¡ï¼š"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 pl-2",children:[e.jsx("li",{children:"å…ˆæŠ•æ·10æ¬¡ï¼Œè®°å½•æ­£é¢æ¯”ä¾‹"}),e.jsx("li",{children:"å†æŠ•æ·100æ¬¡ï¼Œè§‚å¯Ÿæ­£é¢æ¯”ä¾‹çš„å˜åŒ–"}),e.jsx("li",{children:"æœ€åæŠ•æ·1000æ¬¡ï¼Œçœ‹æ­£é¢æ¯”ä¾‹æ˜¯å¦æ¥è¿‘50%"}),e.jsx("li",{children:"æ€è€ƒï¼šä¸ºä»€ä¹ˆå¤§æ•°å®šå¾‹å¯¹æ³•å¾‹æŠ½æ ·è°ƒæŸ¥å¾ˆé‡è¦ï¼Ÿ"})]})]})})})]})}),e.jsx(j,{children:e.jsx("div",{className:"mt-8",children:e.jsx(H,{children:e.jsx(ce,{})})})}),e.jsx(j,{children:e.jsx("div",{className:"mt-8",children:e.jsx(T,{type:"think",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium",children:"æ€è€ƒé—®é¢˜ï¼š"}),e.jsx("p",{children:'å¦‚æœä½ æ˜¯é™ªå®¡å›¢æˆå‘˜ï¼Œå¬åˆ°"DNAæ£€æµ‹å‡†ç¡®ç‡99.9%"çš„è¯æ®ï¼Œä½ ä¼šå¦‚ä½•è¯„ä¼°ï¼Ÿ'}),e.jsx("p",{children:"ä½ ä¼šè¿½é—®å“ªäº›é—®é¢˜æ¥ç¡®ä¿æ­£ç¡®ç†è§£è¿™ä¸€è¯æ®çš„è¯æ˜åŠ›ï¼Ÿ"})]})})})}),e.jsxs("div",{className:"mt-12 space-y-8",children:[e.jsx(ie,{keyPoints:["æ¦‚ç‡é‡åŒ–ä¸ç¡®å®šæ€§ï¼Œå–å€¼èŒƒå›´ä¸º [0, 1]ï¼Œéµå¾ªæŸ¯å°”è«å“¥æ´›å¤«å…¬ç†","å¤§æ•°å®šå¾‹è¡¨æ˜ï¼šé¢‘ç‡éšè¯•éªŒæ¬¡æ•°å¢åŠ è¶‹è¿‘äºç†è®ºæ¦‚ç‡","æ³•å¾‹åº”ç”¨ï¼šè¯æ®è¯„ä»·ä¸èƒ½ä»…å‡­ç›´è§‰ï¼Œéœ€è¦è€ƒè™‘åŸºç¡€æ¦‚ç‡ï¼ˆå…ˆéªŒæ¦‚ç‡ï¼‰","æ£€å¯Ÿå®˜è°¬è¯¯ï¼šæ··æ·† P(è¯æ®|æœ‰ç½ª) ä¸ P(æœ‰ç½ª|è¯æ®) æ˜¯å¸¸è§é”™è¯¯","å³ä½¿é«˜ç²¾åº¦æ£€æµ‹ï¼Œåœ¨å¤§è§„æ¨¡ç­›æŸ¥ä¸­å‡é˜³æ€§ä¹Ÿå¯èƒ½å¾ˆå¤šï¼Œéœ€ç»“åˆå…¶ä»–è¯æ®"],question:"æŸå¸‚æœ‰500ä¸‡äººå£ï¼Œä¸€ç§ç½•è§ç–¾ç—…çš„æ‚£ç—…ç‡æ˜¯0.01%ã€‚å‡è®¾æ£€æµ‹å‡†ç¡®ç‡æ˜¯99%ï¼Œå¦‚æœä½ çš„æ£€æµ‹ç»“æœå‘ˆé˜³æ€§ï¼Œä½ å®é™…æ‚£ç—…çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿ",hint:"ä½¿ç”¨è´å¶æ–¯å®šç†è®¡ç®—ï¼šP(æ‚£ç—…|é˜³æ€§) = P(é˜³æ€§|æ‚£ç—…) Ã— P(æ‚£ç—…) / P(é˜³æ€§)ã€‚æ³¨æ„P(é˜³æ€§)åŒ…æ‹¬çœŸé˜³æ€§å’Œå‡é˜³æ€§ã€‚"}),e.jsx(se,{chapterNumber:2,chapterTitle:"å¤åˆæ¦‚ç‡",color:u})]})]})]})}export{pe as default};
